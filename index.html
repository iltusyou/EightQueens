<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Eightqueens : ">

   

    <title>Eightqueens</title>
    <style>
        table{height:640px; width:640px; background-color:#eedf8b; margin:auto;}   
        tr, td{border:3px #cccccc solid;}
        ol{margin:auto; width:640px;}            
        span{border:2px groove black; cursor:pointer; margin:auto;} 
        #div2{width:640px; margin:auto;}
        .k{background-color:black;}
        .w{background-color:white;}
    </style>
    
    <script src="javascripts/jquery-1.12.2.js"></script>
    <script src="javascripts/main.js"></script>
    
    <script>
        $(document).ready(function () {
            // 做出表格
            for (var i = 0; i < 8; i++) {
                $('tbody').append("<tr></tr>");
                for (var j = 0; j < 8; j++) {
                    $('tr').eq(i).append("<td></td>");
                }
            }
                
            $('td').click(function (event) {
                var row = $(this).parent().index(); //tr's index
                var col = $(this).index(); //td's index
               
                                               
                if ($(this).attr('class') != 'k') {
                    //橫
                    for (var i = 0; i < 8; i++) {
                        $('tr').eq(row).children().eq(i).addClass('k'); 
                    }
                    //直
                    for (var i = 0; i < 8; i++) {
                        $('tr').eq(i).children().eq(col).addClass('k');                     
                    }
                    //右下斜
                    var count = Math.min(7 - row, 7 - col);//
                    for (var i = 1; i <= count; i++) {
                        $('tr').eq(row + i).children().eq(col + i).addClass('k');  
                    }
                    //右上斜
                    var count = Math.min(row, 7 - col);
                    for (var i = 1; i <= count; i++) {
                        $('tr').eq(row - i).children().eq(col + i).addClass('k');  
                    }
                    //左上斜
                    var count = Math.min(row, col);
                    for (var i = 1; i <= count; i++) {
                        $('tr').eq(row - i).children().eq(col - i).addClass('k');  
                    }
                    //左下斜
                    var count = Math.min(7 - row, col);
                    for (var i = 1; i <= count; i++) {
                        $('tr').eq(row + i).children().eq(col - i).addClass('k');  
                    }
                    $('tr').eq(row).children().eq(col).addClass('w');
                }
            });
            //重新開始
            $('span').click(function (event) {
                for (var i = 0; i < 8; i++) {
                    for (var j = 0; j < 8; j++) {
                        $('tr').eq(i).children().eq(j).removeClass();
                    }
                }
            });            
        });        
    </script>
    
    
    
  </head>

  <body>
  </body>
</html>
